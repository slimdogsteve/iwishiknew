{
  "version": 3,
  "sources": ["../../../../../../dev/projects/prm/netlify/functions/anthropic-proxy.js"],
  "sourceRoot": "C:/Users/steve/AppData/Local/Temp/tmp-21540-Zi3y0J6n1wvt",
  "sourcesContent": ["// Netlify serverless function to proxy Anthropic API calls\n// This avoids CORS issues by making the API call server-side\n\nexports.handler = async (event, context) => {\n  // Only allow POST requests\n  if (event.httpMethod !== 'POST') {\n    return {\n      statusCode: 405,\n      body: JSON.stringify({ error: 'Method not allowed' })\n    };\n  }\n\n  // Get API key from environment variable\n  const apiKey = process.env.ANTHROPIC_API_KEY;\n  \n  if (!apiKey) {\n    return {\n      statusCode: 500,\n      body: JSON.stringify({ error: 'API key not configured' })\n    };\n  }\n\n  try {\n    // Parse the incoming request body\n    const requestBody = JSON.parse(event.body);\n    \n    // Make the request to Anthropic's API\n    const response = await fetch('https://api.anthropic.com/v1/messages', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-api-key': apiKey,\n        'anthropic-version': '2023-06-01'\n      },\n      body: JSON.stringify(requestBody)\n    });\n\n    const data = await response.json();\n\n    // Return the response\n    return {\n      statusCode: response.status,\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Headers': 'Content-Type'\n      },\n      body: JSON.stringify(data)\n    };\n\n  } catch (error) {\n    console.error('Proxy error:', error);\n    return {\n      statusCode: 500,\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      },\n      body: JSON.stringify({ error: error.message })\n    };\n  }\n};\n"],
  "mappings": ";AAGA,QAAQ,UAAU,OAAO,OAAO,YAAY;AAE1C,MAAI,MAAM,eAAe,QAAQ;AAC/B,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU,EAAE,OAAO,qBAAqB,CAAC;AAAA,IACtD;AAAA,EACF;AAGA,QAAM,SAAS,QAAQ,IAAI;AAE3B,MAAI,CAAC,QAAQ;AACX,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU,EAAE,OAAO,yBAAyB,CAAC;AAAA,IAC1D;AAAA,EACF;AAEA,MAAI;AAEF,UAAM,cAAc,KAAK,MAAM,MAAM,IAAI;AAGzC,UAAM,WAAW,MAAM,MAAM,yCAAyC;AAAA,MACpE,QAAQ;AAAA,MACR,SAAS;AAAA,QACP,gBAAgB;AAAA,QAChB,aAAa;AAAA,QACb,qBAAqB;AAAA,MACvB;AAAA,MACA,MAAM,KAAK,UAAU,WAAW;AAAA,IAClC,CAAC;AAED,UAAM,OAAO,MAAM,SAAS,KAAK;AAGjC,WAAO;AAAA,MACL,YAAY,SAAS;AAAA,MACrB,SAAS;AAAA,QACP,gBAAgB;AAAA,QAChB,+BAA+B;AAAA,QAC/B,gCAAgC;AAAA,MAClC;AAAA,MACA,MAAM,KAAK,UAAU,IAAI;AAAA,IAC3B;AAAA,EAEF,SAAS,OAAO;AACd,YAAQ,MAAM,gBAAgB,KAAK;AACnC,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,SAAS;AAAA,QACP,gBAAgB;AAAA,QAChB,+BAA+B;AAAA,MACjC;AAAA,MACA,MAAM,KAAK,UAAU,EAAE,OAAO,MAAM,QAAQ,CAAC;AAAA,IAC/C;AAAA,EACF;AACF;",
  "names": []
}
