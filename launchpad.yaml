# ═══════════════════════════════════════════════════════════════
# launchpad.yaml — Generated by LaunchPad Init Wizard
# Created: 2026-02-13
# This file is the source of truth for your project's setup.
# The LaunchPad agent reads this to know what to do.
# ═══════════════════════════════════════════════════════════════
app:
  name: prm
  display_name: Prm
  description: ""
  type: static
prerequisites:
  node: ">=18.0.0"
  npm: ">=9.0.0"
  git: true
environments:
  local:
    enabled: true
    port: 8080
    dev_command: netlify dev
    health_check:
      url: http://localhost:8080
      timeout_seconds: 30
  netlify:
    enabled: true
    build:
      publish: .
    functions:
      enabled: true
      directory: netlify/functions
    redirects: []
services:
  supabase:
    enabled: true
    env_vars:
      - VITE_SUPABASE_URL
      - VITE_SUPABASE_ANON_KEY
      - SUPABASE_SERVICE_ROLE_KEY
    auth:
      redirect_urls:
        local: http://localhost:8080/auth/callback
        netlify: https://prm.netlify.app/auth/callback
  stripe:
    enabled: true
    env_vars:
      - STRIPE_SECRET_KEY
      - STRIPE_WEBHOOK_SECRET
      - VITE_STRIPE_PUBLISHABLE_KEY
    access: server_only
    webhooks:
      endpoint: /.netlify/functions/stripe-webhook
      events:
        - checkout.session.completed
  anthropic:
    enabled: true
    env_vars:
      - ANTHROPIC_API_KEY
    access: server_only
  resend:
    enabled: true
    env_vars:
      - RESEND_API_KEY
    access: server_only
secrets:
  sources:
    - type: env_file
      path: .env
    - type: netlify_env
  template:
    VITE_SUPABASE_URL: ""
    VITE_SUPABASE_ANON_KEY: ""
    SUPABASE_SERVICE_ROLE_KEY: ""
    VITE_STRIPE_PUBLISHABLE_KEY: ""
    STRIPE_SECRET_KEY: ""
    STRIPE_WEBHOOK_SECRET: ""
    ANTHROPIC_API_KEY: ""
    RESEND_API_KEY: ""
validation:
  pre_build:
    - check: env_file_exists
      fix: generate_from_template
    - check: env_vars_populated
      message: Fill in your API keys in .env before proceeding
    - check: no_vite_prefix_on_secrets
      description: Ensures ANTHROPIC_API_KEY doesn't have VITE_ prefix
  post_build: []
  post_deploy:
    - check: site_responds
      expected_status: 200
    - check: auth_redirect_configured
    - check: stripe_webhook_configured
